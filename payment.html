<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thanh To√°n T·∫°i Qu·∫ßy - Self Restaurant</title>
    <link rel="stylesheet" href="static/css/style.css">
</head>
<body>
    <!-- Menu Bar -->
    <nav class="menu-bar">
        <div class="menu-content">
            <a href="index.html" class="logo">
                üçΩÔ∏è Self Restaurant
            </a>
            <div class="menu-nav">
                <a href="index.html">Trang Ch·ªß</a>
                <a href="order.html">ƒê·∫∑t M√≥n</a>
                <a href="payment.html" class="active">Thanh To√°n</a>
                <a href="demo.html">Demo</a>
            </div>
            <button class="theme-toggle" onclick="toggleTheme()" title="Chuy·ªÉn ƒë·ªïi ch·∫ø ƒë·ªô s√°ng/t·ªëi">
                <span id="theme-icon">üåô</span>
            </button>
        </div>
    </nav>

    <div class="container">
        <!-- M√†n h√¨nh ch√≠nh thanh to√°n -->
        <div class="card">
            <h2 style="text-align: center; margin-bottom: 30px; color: var(--text-primary);">
                üßæ X·ª≠ L√Ω Thanh To√°n
            </h2>

            <!-- T√¨m ki·∫øm ƒë∆°n h√†ng -->
            <div class="card" style="margin-bottom: 30px;">
                <h3 style="margin-bottom: 20px; color: var(--text-primary);">üîç T√¨m ƒê∆°n H√†ng</h3>
                
                <div style="display: flex; gap: 15px; align-items: center; margin-bottom: 20px;">
                    <input type="number" id="table-search" placeholder="Nh·∫≠p s·ªë b√†n..." 
                           style="flex: 1; padding: 15px; border: 2px solid var(--border-color); border-radius: 10px; font-size: 1.2rem; background: var(--bg-primary); color: var(--text-primary);">
                    <button class="btn btn-primary" onclick="searchOrder()">
                        üîç T√¨m Ki·∫øm
                    </button>
                </div>

                <div id="search-result" style="display: none;">
                    <!-- Search results will be displayed here -->
                </div>
            </div>

            <!-- Th√¥ng tin ƒë∆°n h√†ng v√† thanh to√°n -->
            <div class="payment-section" id="payment-section" style="display: none;">
                <!-- Th√¥ng tin ƒë∆°n h√†ng -->
                <div class="payment-info">
                    <h3>üìã Chi Ti·∫øt ƒê∆°n H√†ng</h3>
                    <div class="order-details" id="order-details">
                        <!-- Order details will be displayed here -->
                    </div>
                </div>

                <!-- ƒêi·ªÅu khi·ªÉn thanh to√°n -->
                <div class="payment-controls">
                    <h3>üíµ Thanh To√°n</h3>
                    
                    <!-- Ch·ªçn ph∆∞∆°ng th·ª©c thanh to√°n -->
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 10px; font-weight: 600; color: var(--text-primary);">
                            Ph∆∞∆°ng th·ª©c thanh to√°n:
                        </label>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 15px;">
                            <label style="display: flex; align-items: center; padding: 10px; background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 8px; cursor: pointer; transition: all 0.3s ease;">
                                <input type="radio" name="payment-method" value="cash" checked style="margin-right: 10px;">
                                <span>üíµ Ti·ªÅn m·∫∑t</span>
                            </label>
                            <label style="display: flex; align-items: center; padding: 10px; background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 8px; cursor: pointer; transition: all 0.3s ease;">
                                <input type="radio" name="payment-method" value="card" style="margin-right: 10px;">
                                <span>üí≥ Th·∫ª</span>
                            </label>
                            <label style="display: flex; align-items: center; padding: 10px; background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 8px; cursor: pointer; transition: all 0.3s ease;">
                                <input type="radio" name="payment-method" value="qr" style="margin-right: 10px;">
                                <span>üì± QR Code</span>
                            </label>
                            <label style="display: flex; align-items: center; padding: 10px; background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 8px; cursor: pointer; transition: all 0.3s ease;">
                                <input type="radio" name="payment-method" value="transfer" style="margin-right: 10px;">
                                <span>üè¶ Chuy·ªÉn kho·∫£n</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Ph·∫ßn thanh to√°n ti·ªÅn m·∫∑t -->
                    <div id="cash-payment" class="payment-method-section">
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 10px; font-weight: 600; color: var(--text-primary);">
                                S·ªë ti·ªÅn kh√°ch ƒë∆∞a:
                            </label>
                            <input type="number" id="amount-paid" class="amount-input" 
                                   placeholder="Nh·∫≠p s·ªë ti·ªÅn..." oninput="calculateChange()">
                        </div>

                        <!-- N√∫t s·ªë ti·ªÅn nhanh -->
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 10px; font-weight: 600; color: var(--text-primary);">
                                S·ªë ti·ªÅn nhanh:
                            </label>
                            <div class="quick-amount-buttons">
                                <button class="quick-amount-btn" onclick="setAmount(50000)">50,000 VNƒê</button>
                                <button class="quick-amount-btn" onclick="setAmount(100000)">100,000 VNƒê</button>
                                <button class="quick-amount-btn" onclick="setAmount(200000)">200,000 VNƒê</button>
                                <button class="quick-amount-btn" onclick="setAmount(500000)">500,000 VNƒê</button>
                            </div>
                        </div>

                        <!-- Hi·ªÉn th·ªã ti·ªÅn th·ªëi -->
                        <div class="change-display" id="change-display">
                            Ti·ªÅn th·ªëi: 0 VNƒê
                        </div>
                    </div>
                    
                    <!-- Ph·∫ßn thanh to√°n th·∫ª -->
                    <div id="card-payment" class="payment-method-section" style="display: none;">
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 10px; font-weight: 600; color: var(--text-primary);">
                                S·ªë th·∫ª:
                            </label>
                            <input type="text" id="card-number" class="amount-input" placeholder="Nh·∫≠p s·ªë th·∫ª..." maxlength="19">
                        </div>
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 10px; font-weight: 600; color: var(--text-primary);">
                                Ng√†y h·∫øt h·∫°n:
                            </label>
                            <input type="text" id="card-expiry" class="amount-input" placeholder="MM/YY" maxlength="5">
                        </div>
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 10px; font-weight: 600; color: var(--text-primary);">
                                CVV:
                            </label>
                            <input type="text" id="card-cvv" class="amount-input" placeholder="CVV" maxlength="3">
                        </div>
                    </div>
                    
                    <!-- Ph·∫ßn thanh to√°n QR -->
                    <div id="qr-payment" class="payment-method-section" style="display: none;">
                        <div style="text-align: center; margin-bottom: 20px;">
                            <div style="width: 200px; height: 200px; background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 10px; margin: 0 auto; display: flex; align-items: center; justify-content: center; font-size: 3rem;">
                                üì±
                            </div>
                            <p style="margin-top: 10px; color: var(--text-secondary);">Qu√©t m√£ QR ƒë·ªÉ thanh to√°n</p>
                        </div>
                    </div>
                    
                    <!-- Ph·∫ßn chuy·ªÉn kho·∫£n -->
                    <div id="transfer-payment" class="payment-method-section" style="display: none;">
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 10px; font-weight: 600; color: var(--text-primary);">
                                S·ªë t√†i kho·∫£n:
                            </label>
                            <input type="text" id="account-number" class="amount-input" placeholder="Nh·∫≠p s·ªë t√†i kho·∫£n...">
                        </div>
                        <div style="margin-bottom: 20px;">
                            <label style="display: block; margin-bottom: 10px; font-weight: 600; color: var(--text-primary);">
                                Ng√¢n h√†ng:
                            </label>
                            <select id="bank-name" class="amount-input" style="background: var(--bg-primary); color: var(--text-primary);">
                                <option value="">Ch·ªçn ng√¢n h√†ng</option>
                                <option value="vietcombank">Vietcombank</option>
                                <option value="agribank">Agribank</option>
                                <option value="bidv">BIDV</option>
                                <option value="techcombank">Techcombank</option>
                                <option value="mbbank">MB Bank</option>
                            </select>
                        </div>
                    </div>

                    <!-- N√∫t x√°c nh·∫≠n thanh to√°n -->
                    <button class="btn btn-primary" onclick="processPayment()" id="process-payment-btn" 
                            style="width: 100%; font-size: 1.2rem; padding: 20px;">
                        ‚úÖ X√°c Nh·∫≠n Thanh To√°n
                    </button>
                </div>
            </div>

            <!-- Th√¥ng b√°o k·∫øt qu·∫£ -->
            <div id="payment-result" class="card hidden">
                <!-- Payment result will be displayed here -->
            </div>
        </div>

        <!-- H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng -->
        <div class="card">
            <h3 style="text-align: center; margin-bottom: 20px; color: var(--text-primary);">
                üìñ H∆∞·ªõng D·∫´n S·ª≠ D·ª•ng
            </h3>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                <div style="padding: 20px; background: var(--glass-bg); backdrop-filter: blur(10px); border: 1px solid var(--glass-border); border-radius: 10px;">
                    <h4 style="color: var(--text-primary); margin-bottom: 10px;">üîç B∆∞·ªõc 1: T√¨m ƒê∆°n H√†ng</h4>
                    <p style="color: var(--text-secondary); line-height: 1.6;">
                        Nh·∫≠p s·ªë b√†n v√†o √¥ t√¨m ki·∫øm v√† nh·∫•n "T√¨m Ki·∫øm" ƒë·ªÉ hi·ªÉn th·ªã ƒë∆°n h√†ng c·ªßa kh√°ch.
                    </p>
                </div>
                
                <div style="padding: 20px; background: var(--glass-bg); backdrop-filter: blur(10px); border: 1px solid var(--glass-border); border-radius: 10px;">
                    <h4 style="color: var(--text-primary); margin-bottom: 10px;">üí∞ B∆∞·ªõc 2: Nh·∫≠p S·ªë Ti·ªÅn</h4>
                    <p style="color: var(--text-secondary); line-height: 1.6;">
                        Nh·∫≠p s·ªë ti·ªÅn kh√°ch ƒë∆∞a ho·∫∑c s·ª≠ d·ª•ng c√°c n√∫t s·ªë ti·ªÅn nhanh. H·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông t√≠nh ti·ªÅn th·ªëi.
                    </p>
                </div>
                
                <div style="padding: 20px; background: var(--glass-bg); backdrop-filter: blur(10px); border: 1px solid var(--glass-border); border-radius: 10px;">
                    <h4 style="color: var(--text-primary); margin-bottom: 10px;">‚úÖ B∆∞·ªõc 3: X√°c Nh·∫≠n</h4>
                    <p style="color: var(--text-secondary); line-height: 1.6;">
                        Ki·ªÉm tra l·∫°i th√¥ng tin v√† nh·∫•n "X√°c Nh·∫≠n Thanh To√°n" ƒë·ªÉ ho√†n t·∫•t giao d·ªãch.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script src="static/js/data-storage.js"></script>
    <script src="static/js/main.js"></script>
    <script src="static/js/payment.js"></script>
</body>
</html>
